{% extends secondary.html %}

{% block content %}
<p></p>
<img width="212" border="0" height="38" alt="" src="static/img/submit-title.png">
<p></p>
<form enctype="multipart/form-data" action="/submit" method="post" id="track_submit">

<table class="secondary">

<tr><td>Artist Name: </td><td>{{ form.artist }} (used if missing from mp3 data)</td></tr>
{% if form.artist.errors %}
		<tr><td> 
        <ul class="errors">{% for error in form.artist.errors %}<li class="error_notice">{{ error }}</li>{% end %}</ul>
		</td></tr>
    {% end %}
<tr><td colspan="2"><p class="infinite-aside">For proper names like Marvin Gaye and Janice Joplin, please enter as: Last, First.
Also consider format like Costello, Elvis and the Attractions</p></td></tr>
<tr><td>Track Title: </td><td>{{ form.track_title }} (used if missing from mp3 data)</td></tr>
<tr><td colspan="2">MP3 File: {{ form.mp3_file }}</td></tr>
	{% if form.mp3_file.errors %}
		<tr><td colspan=2> 
        <ul class="errors">{% for error in form.mp3_file.errors %}<li class="error_notice">{{ error }}</li>{% end %}</ul>
		</td></tr>
    {% end %}
<tr><td colspan="2">Artist Image (up to 500kb) - will be displayed at 200 x 200 px: {{ form.track_image }}</td></tr>
{% if form.track_image.errors %}
		<tr><td colspan=2> 
        <ul class="errors">{% for error in form.track_image.errors %}<li class="error_notice">{{ error }}</li>{% end %}</ul>
		</td></tr>
    {% end %}
<tr><td colspan="2">Story behind the track:<br/> {{ form.story(rows=10,cols=60) }}</td></tr>
<tr><td colspan="2">Lyrics:  (in couplet form if possible - two lines, space and so on)<br/>{{ form.lyrics(rows=10,cols=60,placeholder="Sometimes you can fix...                               Elaborate on bla bla bla...") }}</textarea></td></tr>
<tr><td colspan="2">Comments: <br/>{{ form.comments(rows=10,cols=60) }}</td></tr>
<tr><td colspan="2">Web Site: <br/>{{ form.url(placeholder="http://") }}</td></tr>
{% if form.url.errors %}
		<tr><td colspan=2> 
        <ul class="errors">{% for error in form.url.errors %}<li class="error_notice">{{ error }}</li>{% end %}</ul>
		</td></tr>
    {% end %}
<input name="track_source" type="hidden" value="user_form" />

<tr><td colspan="2" align="right"><input type="submit" value="upload" /></td></tr>
</table>
</form>
	<!-- Spinner - visible only until the file exists -->
	<div id="loading" style"display:none;">
		<div id="loadingcontent">
			<p id="loadingspinner">
				<br/>
				Uploading file...<br/><br/>
			</p>
		</div>
	</div>
{% end %}
{% block footer %}		
	<div class="container">			
		{% include 'modules/footer.html' %}	
	</div>				
	<script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>				
		
		<script type="text/javascript" src='{{ compiled('spin.min.js',		  
		'soundmanager2-nodebug-jsmin.js',		  
		'berniecode-animator.js',		  
		'360player.js',
		'bar-ui.js',
		'socket.io.js',
		'sm-configs.js'	  ) }}'>
		</script>	
	<script type="text/javascript" src='{{ compiled('raf.coffee', 'front.coffee') }}'></script>

	
<script type="text/javascript">
	$("#track_submit").submit(function() {
			jQuery("#loading").fadeIn();
			var opts = {
				lines: 12, // The number of lines to draw
				length: 7, // The length of each line
				width: 4, // The line thickness
				radius: 10, // The radius of the inner circle
				color: '#000', // #rgb or #rrggbb
				speed: 1, // Rounds per second
				trail: 60, // Afterglow percentage
				shadow: false, // Whether to render a shadow
				hwaccel: false // Whether to use hardware acceleration
			};
			var target = document.getElementById('loading');
			var spinner = new Spinner(opts).spin(target);
			document.getElementById("loading").style.display = "block";
		});
</script>


	{% end %}	

